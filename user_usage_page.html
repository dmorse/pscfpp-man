<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.3"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>PSCF: 3.1 Input File Types</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">PSCF<span id="projectnumber">&#160;v0.8</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.3 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */
</script>
<div id="main-nav"></div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="index.html">PSCF - Polymer Self-Consistent Field Theory</a></li><li class="navelem"><a class="el" href="user_page.html">3 User Guide</a></li>  </ul>
</div>
</div><!-- top -->
<div><div class="header">
  <div class="headertitle"><div class="title">3.1 Input File Types </div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p ><a class="el" href="user_page.html">3 User Guide</a> (Prev) &#160; &#160; &#160; &#160; <a class="el" href="user_param_page.html">3.2 Parameter Files</a> (Next) <br  />
</p>
<p >To perform a typical self-consistent field theory (SCFT) calculation, pscf generally reads at least three different types of input file: </p><ul>
<li>
a <a class="el" href="user_usage_page.html#user_usage_parameter_section">parameter</a> file  </li>
<li>
a <a class="el" href="user_usage_page.html#user_usage_command_section">command</a> file  </li>
<li>
a <a class="el" href="user_usage_page.html#user_usage_command_section">field</a> file  </li>
</ul>
<p>All PSCF programs use similar formats for the parameter and command files. The contents and formats of these two types of file are discussed briefly below and in more detail in several separate pages (see <a class="el" href="user_param_page.html">3.2 Parameter Files</a> , <a class="el" href="user_command_page.html">3.3 Command Files</a>). Programs that are designed to treat periodic microstructue use formats for field files that are backwards compatible with those used by the older Fortran PSCF program.</p>
<p >When any pscf program is executed, the parameter file is read first. The parameter file contains basic physical information about the state of the system of interest (e.g., molecular structures) and some algorithmic parameters (e.g., a spatial discretization mesh). The information contained in the param file is to initialize the state of the program and allocate memory. The name of the parameter file is specified when a program is invoked as a command line argument (the argument of the "-p" command line option).</p>
<p >The command file is read and interpreted after the parameter file. The command file is a script that contains a list of commands that are interpreted and executed in sequence. This script controls the program flow after initialization. The name of the command file is specified by a command line argument (the argument of the "-c" command line option).</p>
<p >Many commands in a command file require field data to be read from or written to specific data files. For example, the the first step in solving a SCFT problem is usually to read an initial guess for the chemical potential fields from a file, while the last step may be to write the converged chemical potential and monomer concentration fields to an output file. The names of these data files are specified as parameters of corresponding commands within the command file.</p>
<h1><a class="anchor" id="user_usage_parameter_section"></a>
Parameter file</h1>
<p >The parameter file contains most of the data required to define initial physical parameters for a system of interest and initialize a calculation. The parameter file format for a SCFT calculation generally contains 4 different sections whose contents are described briefly below:</p>
<ul>
<li>Mixture: Molecular structure and volume fraction or chemical potential of each molecular species within a mixture.</li>
<li>Interaction: Flory-Huggins chi parameters</li>
<li>Domain: Description of a spatial domain or unit cell, and a spatial discretization for that domain.</li>
<li>Iterator: Parameters to initialize an iterative solver</li>
</ul>
<p >The</p>
<h1><a class="anchor" id="user_usage_command_section"></a>
Command file</h1>
<p >The command file contains a sequence of commands that are read and executed in the order they appear. Each line of the command file starts with a capitalized command name, followed by zero or more arguments. The minimal command file for an mcSim simulation looks like this: </p><div class="fragment"><div class="line">READ_W_BASIS      in/w.bf</div>
<div class="line">ITERATE           </div>
<div class="line">WRITE_W_BASIS     out/w.bf</div>
<div class="line">WRITE_C_RGRID     out/c.rf</div>
<div class="line">FINISH  </div>
</div><!-- fragment --><p> This file instructs the program to:</p>
<ul>
<li>READ_W_BASIS: Read in a chemical potential (w) field in symmetrized Fourier basis from a file named in/w.bf</li>
<li>ITERATE: Iteratively solve the SCFT equation, using the iterator initialized in the parameter file.</li>
<li>WRITE_W_BASIS: Write the converged chemical potential fields (w-fields) in symmetrized Fourier basis format to a file out/w.bf</li>
<li>WRITE_C_RGRID: Write the corresponding monomer concentration fields (c-fields) in real-space grid (r-grid) format to a file out/c.rf</li>
<li>FINISH: finish execution and return from the main program</li>
</ul>
<p ><br  />
 <a class="el" href="user_page.html">3 User Guide</a> (Up) &#160; &#160; &#160; &#160; <a class="el" href="user_param_page.html">3.2 Parameter Files</a> (Next)</p>
<p ><a class="el" href="user_page.html">3 User Guide</a> (Prev) &#160; &#160; &#160; &#160; <a class="el" href="user_param_page.html">3.2 Parameter Files</a> (Next) <br  />
</p>
<h1><a class="anchor" id="user_usage_inputs"></a>
Input files</h1>
<p >Every PSCF executable requires at least two types of input file: </p><ul>
<li>
a <a class="el" href="user_usage_page.html#user_usage_parameter_section">parameter</a> file  </li>
<li>
a <a class="el" href="user_usage_page.html#user_usage_command_section">command</a> file  </li>
</ul>
<p>All PSCF programs use similar formats for the parameter and command files. The contents and formats of these two types of file are discussed briefly below and in more detail in several separate pages (see <a class="el" href="user_param_page.html">3.2 Parameter Files</a> , <a class="el" href="user_command_page.html">3.3 Command Files</a>).</p>
<p >When a program simulation is executed, the parameter file is read first. The parameter file is used to initialize the state of the program and allocate memory. The name of the parameter file is specified when a program is invoked as a argument of the "-p" command line option.</p>
<p >The command file is read and interpreted after the parameter file. The command file is a script that contains a list of commands that are interpreted and executed in sequence. This script controls the program flow after initialization. The name of the command file is specified as the argument of the "-c" command line option.</p>
<p >Some commands in a command file require data to be read from or written to specific data files. For example, the the first step in solving a SCFT problem is usually to read an initial guess for the chemical potential fields from a file, while the last step may be to write the converged chemical potential and monomer concentration fields to an output file. The names of these data files are specified as parameters within the command file.</p>
<h1><a class="anchor" id="user_usage_run_serial_section"></a>
Command line usage</h1>
<p >All of the PSCF programs have a similar command line interface. The names of the parameter and command files required to perform a PSCF computation are passed to the program as arguments of the "-p" and "-c" command line options, respectively.</p>
<p >As an example, consider use of the program pscf_pc3d, which is used to treat three dimensionally periodic microstructures. To run this program using a parameter file named "param" and command file named "commands" that are both in the current working directory, one would enter: </p><div class="fragment"><div class="line">pscf_pc3d -p param -c commands</div>
</div><!-- fragment --><p> The same command line options can be used to invoke any other PSCF program.</p>
<p >During execution, some log information is written to standard output (i.e., the screen). This log output can be directed to a file using, for example, </p><div class="fragment"><div class="line">pscf_pc3d -p param -c commands &gt; log</div>
</div><!-- fragment --><p> Standard output should normally be redirected to a file when a job is run in background or in a queue.</p>
<h1><a class="anchor" id="user_usage_echo_section"></a>
The echo option</h1>
<p >All PSCF programs accept a command line option "-e" that causes the contents of each line of the parameter file to be echoed as the file is being read. For example, to use "pscf_pc3d" with echoing to a log file, one could enter </p><div class="fragment"><div class="line">pscf_pc3d -e -p param -c commands &gt; log</div>
</div><!-- fragment --><p> This option is useful for locating errors in the parameter file, because the echoed output ends immediately before the line at which an error in the parameter file is detected, and is followed by an error message that explains the nature of the error.</p>
<p >Other available command line options are discussed <a class="el" href="user_usage_page.html#user_usage_options_section">below</a>.</p>
<h1><a class="anchor" id="user_usage_parameter_section"></a>
Parameter file</h1>
<p >The parameter file contains most of the data required to define initial physical parameters for a system of interest and initialize a calculation. These data includes:</p>
<ul>
<li>Mixture: Specification of the structure of one or more molecular species within a mixture, and a value for either the volume fraction or chemical potential for each species.</li>
<li>Interaction: Flory-Huggins chi parameters</li>
<li>Domain: Parameters that specify a spatial domain or unit cell, and a discretization mesh.</li>
<li>Iterator: Parameters to initialize an iterative solver</li>
</ul>
<h1><a class="anchor" id="user_usage_command_section"></a>
Command file</h1>
<p >The command file contains a sequence of commands that are read and executed in the order they appear. Each line of the command file starts with a capitalized command name, followed by zero or more arguments. The minimal command file for an mcSim simulation looks like this: </p><div class="fragment"><div class="line">READ_W_BASIS      in/w.bf</div>
<div class="line">ITERATE           </div>
<div class="line">WRITE_W_BASIS     out/w.bf</div>
<div class="line">WRITE_C_RGRID     out/c.rf</div>
<div class="line">FINISH  </div>
</div><!-- fragment --><p> This file instructs the program to:</p>
<ul>
<li>READ_W_BASIS: Read in a chemical potential (w) field in symmetrized Fourier basis from a file named in/w.bf</li>
<li>ITERATE: Iteratively solve the SCFT equation, using the iterator initialized in the parameter file.</li>
<li>WRITE_W_BASIS: Write the converged chemical potential fields (w-fields) in symmetrized Fourier basis format to a file out/w.bf</li>
<li>WRITE_C_RGRID: Write the corresponding monomer concentration fields (c-fields) in real-space grid (r-grid) format to a file out/c.rf</li>
<li>FINISH: finish execution and return from the main program</li>
</ul>
<h1><a class="anchor" id="user_usage_options_section"></a>
Command line options</h1>
<p >All PSCF simulations of single systems can be invoked with any of the following command line options: </p><ul>
<li>
-e: Activates echoing of the parameter file to standard output. </li>
<li>
-p filename: Specifies the name of a parameter file  </li>
<li>
-c filename: Specifies the name of a command file  </li>
<li>
-i filename: Specifies a prefix string for input data files  </li>
<li>
-o filename: Specifies a prefix string for output data files   </li>
</ul>
<p >The -e (echo) option causes each parameter in the parameter file to be echoed to standard output immediately after it is read. This option takes no arguments.</p>
<p >The -p (parameter) option takes a required string parameter, which is the name of a parameter file. The -p and -r options are incompatible: The simulation must be initialized with either a parameter or a restart file, but not both.</p>
<p >The -c (command) option takes a required string parameter, which is the name of a command file.</p>
<p >If this file name is not specified as a command line option, it can be specified as the first argument of the FileMaster parameter block in the parameter file.</p>
<p >The -i (input prefix) option takes a required string parameter, which is a prefix that will be prepended to the names of all input data files.</p>
<p >The -o (output prefix) option takes a required string parameter, which is a prefix that will be prepended to the names of all output data files.</p>
<p ><br  />
 <a class="el" href="user_page.html">3 User Guide</a> (Up) &#160; &#160; &#160; &#160; <a class="el" href="user_param_page.html">3.2 Parameter Files</a> (Next) </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Thu Mar 31 2022 13:32:18 for PSCF by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.3
</small></address>
</body>
</html>
