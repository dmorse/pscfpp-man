<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.5"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>PSCF: Source Code</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  extensions: ["tex2jax.js"],
  jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="https://cdn.jsdelivr.net/npm/mathjax@2/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="customdoxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">PSCF<span id="projectnumber">&#160;v1.0.3</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.5 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */
</script>
<div id="main-nav"></div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="index.html">PSCF - Polymer Self-Consistent Field Theory</a></li><li class="navelem"><a class="el" href="install_page.html">Installation</a></li>  </ul>
</div>
</div><!-- top -->
<div><div class="header">
  <div class="headertitle"><div class="title">Source Code </div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p ><a class="el" href="install_require_page.html">Dependencies</a> (Prev) &#160; &#160; &#160; &#160; <a class="el" href="install_overview_page.html">Installation Overview</a> (Next) <br  />
</p>
<p >The source code for the C++/CUDA version of PSCF is hosted on <a href="http://github.com">github.com</a>, as project dmorse/pscfpp. The source code may be obtained by using a git version control manager to clone the public <a href="https://github.com/dmorse/pscfpp">git repository</a>. The following instructions assume that a "git" client has been installed on your computer. The instructions given below should allow you to clone the source code whether or not you have any experience with git or github. If you are unfamiliar with git or need to look up some details, we heartily recommend the online <a href="https://git-scm.com/book/en/v2">Pro Git</a> book as a tutorial and reference.</p>
<h1><a class="anchor" id="compile_getcode_section"></a>
Cloning the repository</h1>
<p >To obtain a working copy of the pscfpp git repository, you should first change directory (cd) to the directory you would like to contain a newly created pscfpp directory. From there, enter the command </p><div class="fragment"><div class="line">git clone --recursive https:<span class="comment">//github.com/dmorse/pscfpp.git</span></div>
</div><!-- fragment --><p> This should create a complete copy of the PSCF source code in a new subdirectory named "pscfpp/" of the working directory from which you invoked this command. See the discussion of the reason for use of the "--recursive" option <a class="el" href="install_source_page.html#compile_submodules_section">below</a>.</p>
<p >The above instructions are intended for users who simply want to get a copy of PSCF their own use, but who are not (or not yet) interested in contributing to its development. Users that want to be able to contribute to the project or share their extensions or improvements of PSCF with others should go through a slightly more complicated procedure. Such user/developers should instead: </p><ul>
<li>
Create a user account on github.com, if they do not already have one.  </li>
<li>
Create a fork (i.e., a personal version) of the pscfpp repository in their github user account </li>
<li>
Clone their personal fork of the pscfpp repository to a computer on which they can compile and edit the code, using the "--recursive" option as described above.  </li>
</ul>
<p>The URL for dmorse/pscfpp used in the command to clone user's github fork to a local computer may use a prefix that selects either the https (prefix <a href="https://github.com/">https://github.com/</a>) or ssh (prefix <a href="#" onclick="location.href='mai'+'lto:'+'git'+'@g'+'ith'+'ub'+'.co'+'m'; return false;">git@g<span class="obfuscator">.nosp@m.</span>ithu<span class="obfuscator">.nosp@m.</span>b.com</a>: ) communication protocol. Cloning with either of these protocols creates a connection with the github server that will allow the user write access to their personal fork of pscfpp on github. The https protocol was used in the above instructions for general users who clone the main pscfpp directory directly, in which the repository URL starts with "https://github.com/..." The command to use ssh to clone a fork of pscfpp created by a user with a github username JaneDoe would generally look like </p><div class="fragment"><div class="line">git clone --recursive git@github.com:JaneDoe/pscfpp.git</div>
</div><!-- fragment --><p> The https protocol does not require any initial set up, but requires password authentication every time a user pushes locally committed changes to github. The ssh protocol instead uses public-key authentication, which requires the user to add a public key to their github account that identifies their local computer. This takes a few minutes to set up, but thereafter avoids the need to use password authentication for every push command. See the github documentation on <a href="https://docs.github.com/en/authentication">authentication </a> for further details about how to set up public keys for use with ssh, among other issues related to github account security.</p>
<p >Herefafter, we assume that the root directory of the pscfpp working copy is named pscfpp/. References to paths that do not start explicitly with a prefix "pscfpp/" should be understood to be relative paths, relative to this directory. The directory structure of the pscfpp repository is explained <a class="el" href="developer_source_page.html">here</a>.</p>
<h1><a class="anchor" id="compile_submodules_section"></a>
Use of git submodules</h1>
<p >Some subdirectories of the pscfpp/src directory are maintained in separate github repositories and are imported into the pscfpp repository as git "submodules". (See <a href="https://git-scm.com/book/en/v2/Git-Tools-Submodules">chapter 7.11</a> of the Pro Git online book). Specifically, the src/util and src/tests directories are submodules that contain clones of the dmorse/util and dmorse/test repositories on github, respectively.</p>
<p >The use of the "--recursive" option of the git clone command given above should automatically create clones of these submodules in the appropriate locations within the pscfpp source directory tree, thus creating a complete functional copy of the source code. Cloning a copy of pscfpp without using the "--recursive" option, however, would create a version of the pscfpp directory tree in which the src/util and src/tests directories are empty. If you find yourself with a repository clone in which one or both of these repositories is empty, you can either clone pscfpp again with the recursive option, or initialize and update the submodules by calling </p><div class="fragment"><div class="line">git submodule update --init</div>
</div><!-- fragment --><p >Also note that git does not update submodules automatically when you switch to a different version or branch of the main software. Because of this, you may need to manually update the submodules if you switch to a different version of PSCF, since different versions of this software are associated with different versions of the submodules. An error will likely occur during compilation of the software if any submodule is not properly updated.</p>
<p >You can check if you have the correct version of the submodules by running "git status" from your pscfpp directory. If, for example, your util submodule is the wrong version, you will see the following output: </p><div class="fragment"><div class="line"><span class="preprocessor"># Changes not staged for commit:</span></div>
<div class="line"><span class="preprocessor">#   (use &quot;git add &lt;file&gt;...&quot;</span> to update what will be committed)</div>
<div class="line"><span class="preprocessor">#   (use &quot;git checkout -- &lt;file&gt;...&quot;</span> to discard changes in working directory)</div>
<div class="line"><span class="preprocessor">#</span></div>
<div class="line"><span class="preprocessor">#  modified:   src/util (new commits)</span></div>
</div><!-- fragment --><p> This indicates that your submodule is different ("modified") from the version that is associated with your current version of PSCF. To update the submodule to the appropriate version, run </p><div class="fragment"><div class="line">git submodule update</div>
</div><!-- fragment --><p ><br  />
 <a class="el" href="install_require_page.html">Dependencies</a> (Prev) &#160; &#160; &#160; &#160; <a class="el" href="install_page.html">Installation</a> (Up) &#160; &#160; &#160; &#160; <a class="el" href="install_overview_page.html">Installation Overview</a> (Next) </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Thu Jul 6 2023 14:11:35 for PSCF by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.5
</small></address>
</body>
</html>
