<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.3"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>PSCF: 3.3.1 Example SCFT Parameter File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">PSCF<span id="projectnumber">&#160;v0.9</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.3 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */
</script>
<div id="main-nav"></div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="index.html">PSCF - Polymer Self-Consistent Field Theory</a></li><li class="navelem"><a class="el" href="user_page.html">3 User Guide</a></li><li class="navelem"><a class="el" href="user_param_page.html">3.3 Parameter Files</a></li>  </ul>
</div>
</div><!-- top -->
<div><div class="header">
  <div class="headertitle"><div class="title">3.3.1 Example SCFT Parameter File </div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p ><a class="el" href="user_param_page.html">3.3 Parameter Files</a> (Up) &#160; &#160; &#160; &#160; <a class="el" href="user_param_syntax_page.html">3.3.2 Syntax</a> (Next) <br  />
</p>
<p >The different programs in the pscf package use parameter files with similar structure and syntax, with slight differences in some elements. It is useful to illustrate common elements by showing an example.</p>
<h1><a class="anchor" id="user_param_example_file"></a>
Example File</h1>
<p >Below, we show an example of a complete parameter file for a simple 1D SCFT calculation performed using a finite-difference discretization by program pscf_fd:</p>
<div class="fragment"><div class="line">System{</div>
<div class="line">  Mixture{</div>
<div class="line">     nMonomer   2</div>
<div class="line">     monomers[</div>
<div class="line">                1.0  </div>
<div class="line">                1.0 </div>
<div class="line">     ]</div>
<div class="line">     nPolymer   2</div>
<div class="line">     Polymer{</div>
<div class="line">        nBlock  2</div>
<div class="line">        blocks[</div>
<div class="line">                0   0.5</div>
<div class="line">                1   0.5</div>
<div class="line">        ]</div>
<div class="line">        phi     0.6</div>
<div class="line">     }</div>
<div class="line">     Polymer{</div>
<div class="line">        nBlock  1</div>
<div class="line">        blocks[</div>
<div class="line">                0   1.0</div>
<div class="line">        ]</div>
<div class="line">        phi     0.4</div>
<div class="line">     }</div>
<div class="line">     ds   0.01</div>
<div class="line">  }</div>
<div class="line">  Interaction{</div>
<div class="line">     chi(</div>
<div class="line">           0    1    10.0</div>
<div class="line">     )</div>
<div class="line">  }</div>
<div class="line">  Domain{</div>
<div class="line">     mode     planar</div>
<div class="line">     xMin     0.0</div>
<div class="line">     xMax     8.0</div>
<div class="line">     nx       401</div>
<div class="line">  }</div>
<div class="line">  Iterator{</div>
<div class="line">     epsilon   0.00000001</div>
<div class="line">  }</div>
<div class="line">}</div>
</div><!-- fragment --><p >This particular example gives parameters for a calculation of a binary mixture of a symmetric AB diblock copolymer with a homopolymer of type A in a one-dimensional planar geometry.</p>
<h1><a class="anchor" id="user_param_example_structure_sec"></a>
Block Structure</h1>
<p >Before discussing details of the format for particular elements of this file, note the overall structure of the file: This parameter file consists of a set of nested blocks that each begin and end with lines containing matching curly brackets, using a syntax similar to that of a C program. Each such parameter file block begins with a line that contains a label for the block (System, Mixture, etc.) followed immediately by an opening curly bracket "{". Each block ends with a matching closing curly bracket on a line by itself. The skeleton structure of the main blocks within this example is show below: </p><div class="fragment"><div class="line">System{</div>
<div class="line">  Mixture{</div>
<div class="line">     ...</div>
<div class="line">  }</div>
<div class="line">  Interaction{</div>
<div class="line">     ...</div>
<div class="line">  }</div>
<div class="line">  Domain{</div>
<div class="line">     ...</div>
<div class="line">  }</div>
<div class="line">  Iterator{</div>
<div class="line">     ...</div>
<div class="line">  }</div>
<div class="line">}</div>
</div><!-- fragment --><p> The main block of a parameter file, which encloses all the data in the file, is always labelled "System". The purposes of each main subblock block of the main "System" block is briefly described below. </p><ul>
<li>
Mixture: The Mixture block contains a description of the chemical composition of a mixture of containing one or more polymer and solvent molecular species. This includes a description of the structure of each polymer species and a specification of either the volume fraction phi or chemical mu of every species. In this example, the Mixture block contains two Polymer{ ... } subblocks, each of which contains information about one of the two polymer species in the mixture.  </li>
<li>
Interaction: This block contains values for the Flory-Huggins chi parameters that describe interactions between different possible pairs of monomer types.  </li>
<li>
Domain: The domain block contains geometrical information about the spatial domain over which the SCFT equations should be solved and a description of the spatial discretization used to numerically solve the field equations.  </li>
<li>
Iterator: The Iterator block contains parameters required by an iteration algorithm that is used to iteratively solve the nonlinear SCFT equations.  </li>
</ul>
<p >The parameter files required to initialize a simple SCFT calculations performed using pscf_pcNd or Pscf_pgNd for periodic microstructures programs have a similar structure to that shown above, with analogous top level blocks that appear in the same order. Parameter files for all three types of program use exactly the same format for the Mixture and Interaction blocks, but differ in details of the format of the Domain block and the Iterator block. The skeleton structure shown in this example is specfic to simple SCFT calculations - a somewhat different sequence of primary blocks may be required to initialize more complicated calculations, such as a simulation of a sequence of SCFT calculations along a line through parameter space (known as a "sweep").</p>
<p >Each block in a parameter file may contain a sequence of subblocks (each delimited by matching curly braces) and parameter entries. Each parameter entry starts with a label indicating the name of a parameter followed by information about the parameter value.</p>
<p >Each parameter entry for a simple parameter, for which the value can be represented by a single number or string, appears on a single line containing a label that gives the parameter name followed by the parameter value. For examples of this, look for the nMonomer and nPolymer parameters within the Mixture block.</p>
<p >Labels for some other parameters refer to names of 1D arrays of 2D matrices of values. In these cases, lists of elements of the array or matrix are delimited by either matched square brackets (for one-dimensional arrays) or by parentheses (as a syntax for specifying nonzero values of a matrix). Names of array-valued parameters are usually given as plural nouns.</p>
<p >As an examples of a one-dimensional array-valued parameters, see the "monomers" parameter in the Mixture block. The value of each element in this array is a floating point number that is given on a line by itself, which gives the statistical segment length of a particular type of monomer.</p>
<p >The value of the "chi" parameter within the Interaction block is a symmetric matrix or two-dimensional array. The distinct nonzero elements of the chi matrix are given in the parameter file using a syntax in which each such element is given on a line contain row index and a column index (defined using a zero-based convention), followed by the value of the matrix element. The resulting list of nonzero elements is enclosed by parentheses.</p>
<h1><a class="anchor" id="user_param_example_discussion_sec"></a>
Contents of Example</h1>
<p >The system described in the above example contains a mixture of two types of polymers (nPolymer=2) that are constructed by two types of monomer (nMonomer=2). Different types of monomer are labelled by integer indices in the range 0,...,nMonomer-1. The value of each element in the "monomers" array-valued parameter gives the monomer statistical segment lengths for a monomer type, listed in order of increasing monomer type index. <br  />
</p>
<p >Each of the two "Polymer" subblocks of the Mixture block contains data required to describe one of the two polymer species. The first species in this system is a diblock copolymer (nBlock=2) containing blocks with monomers of types 0 and 1, while the second is a homopolymer (nBlock=1) with monomers of type 0. The system described in this file contains 60% of diblock copolymer by volume (phi = 0.6 in the first Polymer block) and 40% homopolymer by volume (phi= 0.4 for the second such block). Both polymer species have overall chain length 1.0 in the system of units for block lengths used in this input file. The diblock copolymer is is symmetric (each block has length 0.5).</p>
<p >The syntax used here for each "Polymer" block is designed for linear block polymers, which is the default polymer topology. A somewhat different syntax is used to describe a branched polymer, as described <a class="el" href="user_param_mixture_page.html#user_param_polymer_sec">elsewhere</a>. The syntax for a linear block polymer contains a "blocks" array in which each element contains the mononer typeId for a block followed by the length of the block.</p>
<p >The chi matrix for this problem has a nonzero value of 10.0 for interactions between monomers of types 0 and 1. The chi matrix is represented internally as a symmetric square matrix with nMonomer rows and columes. Values of diagonal elements (i=j) are usually taken equal to zero by convention, though this is not required. In a system with two types of monomer and zero diagonal elements, with this convention, only one nonzero chi parameter value is required. The value of this parameter is given here as a line containing "0  1  10.0".</p>
<p >The simulation uses a 1D planar geometry, in which variation occurs only along one axis of a Cartesian coordinate system. The block labelled Domain contains information about the spatial domain (minimum and maximum coordinate values xmin and xmax) and the number of grid points (nx = 401 indicates 401 grid points, including both end points).</p>
<p >The block labelled Iterator contains a single parameter labelled "epsilon". This is a tolerance parameter that is used to decide when the SCF equations are solved to within a user-specified accuracy. The iterator algorithm used in this example does not require any other input parameters.</p>
<h1><a class="anchor" id="user_param_example_iterator_sec"></a>
Choice of Iterator Algorithm</h1>
<p >All PSCF programs are designed to allow a user to select from a list of available iteration algorithms, or to use a default choice. The default iterator algorithm may always be invoked by including a block that starts with the generic label "Iterator" before an opening bracket, as done here. The default algorithm for the pscf_fd program, which is used in the above example, is a Newton-Raphson algorithm that is actually implemented by a C++ class named NrIterator. <br  />
</p>
<p >When two or more iteration algorithms are available, a non-default iteration algorithm may be chosen by replacing the generic "Iterator" block label by a label that specifies the name of the class that implements the desired algorithm as the first line of the iterator block. The rest block that starts with such a line must contain the parameters required by the specified class or algorithm, in the format required for that algorithm, which is generally different for different algorithms.</p>
<p >The default choice of iteration algorithm may be invoked either by using the generic label "Iterator" or the name of the class that implements the default algorithm. For program pscf_fd, the Newton-Raphson iterator may thus be invoked by either using the generic name "Iterator" or the specific class name "NRIterator" in the iterator block label string. <br  />
</p>
<p >The Iterator block is an example of what we will refer to more generally as a "choosable" block in a parameter file. A choosable block is one that may contain any of several alternative types of blocks that contain parameters required for different algorithms that perform analogous calculations. Here, thus use of a choosable block allows the user to choose from among one or more available iteration algorithms. <br  />
 The choice of a specific algorithm is given by the label given in the first name of the subblock. A default choice is defined for each choosable block, which may be invoked by using a generic name (e.g., Iterator) rather than the name of a class that implements a specific algorithm (e.g., NrIterator).</p>
<p >For simplicity, almost all of the examples shown in this user manual use the default iterator algorithm for each program. Most examples in this manual thus contain an iterator block that starts with the string "Iterator{" on a line by itself.</p>
<p ><br  />
 <a class="el" href="user_param_page.html">3.3 Parameter Files</a> (Up) &#160; &#160; &#160; &#160; <a class="el" href="user_param_syntax_page.html">3.3.2 Syntax</a> (Next) </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Mon Sep 26 2022 14:20:47 for PSCF by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.3
</small></address>
</body>
</html>
