<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.14.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>PSCF: Parameter Sweeps</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  extensions: ["tex2jax.js", "TeX/AMSmath.js", "TeX/AMSsymbols.js"],
  jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="https://cdn.jsdelivr.net/npm/mathjax@2/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="customdoxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">PSCF<span id="projectnumber">&#160;v1.3.3</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.14.0 -->
<script type="text/javascript">
$(function() { codefold.init(); });
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',false,false,'search.php','Search',false);
});
</script>
<div id="main-nav"></div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a href="index.html">PSCF - Polymer Self-Consistent Field</a></li><li class="navelem"><a href="analysis_page.html">Data Analysis Tools</a></li><li class="navelem"><a href="analysis_python_page.html">Python Tools</a></li>  </ul>
</div>
</div><!-- top -->
<div id="doc-content">
<div><div class="header">
  <div class="headertitle"><div class="title">Parameter Sweeps </div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="el" href="analysis_python_state_page.html">State Files</a> (Prev) &#160; &#160; &#160; &#160; <a class="el" href="analysis_python_command_page.html">Command Files</a> (Next) &#160; &#160; &#160; &#160; <br  />
</p>
<p>Class Sweep (<a class="el" href="classpscfpp_1_1output_1_1Sweep.html" title="Container for data in state files produced by a PSCF sweep.">pscfpp.output.Sweep</a>) is different from the other pscfpp parser classes in that it is designed to parse and store the contents of multiple data files, rather than a single file or file block. This class is designed to parse all of the state files created by an SCFT parameter sweep, and store their contents in a Python list in which each element is an instance of class State (<a class="el" href="classpscfpp_1_1output_1_1State.html" title="Container for data in state files produced by a sweep.">pscfpp.output.State</a>). Each State object in this list contains all of the data contained in an associated state file that describes one physical state (i.e., one choice of input parameters) within a path through parameter space that was traversed by the sweep. The Sweep class is among the most useful of the parser classes, because it enormously simplifies analyses that would otherwise require manual inspection of the multiple output files produced by a sweep.</p>
<p><b> Reading state files: </b></p>
<p>In what follows, we consider the following situation as an example: Suppose you used a PSCF program to perfom a parameter sweep. Suppose that the 'baseFileName' parameter within the Sweep block of the associated parameter file was assigned a value 'out/', so that all output files produced by the sweep were created in the 'out/' subdirectory of the directory from which the executable was invoked. In this case, the SWEEP command will have created a set of numbered state files with file extension *.stt in the out/ directory, giving files named </p><div class="fragment"><div class="line">0.stt</div>
<div class="line">1.stt</div>
<div class="line">2.stt</div>
<div class="line"> .</div>
<div class="line"> .</div>
<div class="line"> .</div>
</div><!-- fragment --><p> Each of these state files contain the input parameters and output variables for an SCFT calculation peformed at a single state along the specified path through parameter space. We assume in what follows that a Python interpreter was launched from the parent directory of the directory 'out/' that contains these state files.</p>
<p>To parse and store the contents of all of the numbered state files produced by such a sweep, one could enter the Python commands </p><div class="fragment"><div class="line">from <a class="code hl_namespace" href="namespacepscfpp.html">pscfpp</a>.<a class="code hl_namespace" href="namespacepscfpp_1_1output.html">output</a> <span class="keyword">import</span> *</div>
<div class="line">s = Sweep(&#39;out/&#39;)</div>
<div class="ttc" id="anamespacepscfpp_1_1output_html"><div class="ttname"><a href="namespacepscfpp_1_1output.html">pscfpp.output</a></div><div class="ttdoc">Module of parsers for PSCF output file formats.</div><div class="ttdef"><b>Definition</b> <a href="output_8py_source.html#l00001">output.py:1</a></div></div>
<div class="ttc" id="anamespacepscfpp_html"><div class="ttname"><a href="namespacepscfpp.html">pscfpp</a></div><div class="ttdoc">Python package of all python modules provided with PSCF.</div><div class="ttdef"><b>Definition</b> <a href="____init_____8py_source.html#l00001">__init__.py:1</a></div></div>
</div><!-- fragment --><p> Here, we assign the resulting Sweep object to a variable named s. The Sweep constructor takes a single string argument, which is a prefix string that appended to all of the output state files created by the sweep, which is used here to specify files in the 'out/' directory. The constructor reads and stores the contents of files with names given by this prefix, followed by an integer, followed by the file extension '.stt'.</p>
<p><b> Accessing State Objects and Variable Values: </b></p>
<p>After successful construction of a Sweep object, the resulting object stores the contents of each state file in a State object. These State objects are stored internally in a Python list, in the order in which states were treated within the sweep. The Sweep class overloads the square bracket index operator to allow access to the elements of this list. The State objects associated with a Sweep object named 's' are thus given by the quantities </p><div class="fragment"><div class="line">s[0]</div>
<div class="line">s[1]</div>
<div class="line"> .</div>
<div class="line"> .</div>
<div class="line"> .</div>
<div class="line">s[n-1]</div>
</div><!-- fragment --><p> where n is the number of State objects contained in the parent Sweep. The integer index used to access each State object corresponds to the integer that appears the name of the corresponding state file.</p>
<p>The syntax for accessing variables stored with a State object can then be applied to any state within a sweep via access to the param and thermo data attributes. In this example, the quantity </p><div class="fragment"><div class="line">s[1].thermo.fHelmholtz</div>
</div><!-- fragment --><p> is thus the Helmholtz free energy per monomer for state 1 (the second state) within a sweep. Similarly, </p><div class="fragment"><div class="line">s[1].param.Interaction.chi[0][1]</div>
</div><!-- fragment --><p> is the chi parameter for interactions between monomer types 0 and 1 in the same state. Values of other input and output variables can be accessed similarly.</p>
<p><b> Generating a Summary Report: </b></p>
<p>The methods 'summary' and 'summaryString' of class Sweep can be used to generate summary reports that contain a list of values for selected variables at each state point of a sweep. Both of these functions takes a list of strings as an argument, in which each string in the list gives the name of a input or output variable using the syntax for accessing variables stored in a State function. The two methods differ in the form in which the resulting data is returned: The summary method returns the resulting report as a list of lists, while the summaryString method returns the report as a multi-line string suitable for printing.</p>
<p><em>Table of values</em>: In our example, the expression </p><div class="fragment"><div class="line">table = s.summary([<span class="stringliteral">&#39;param.Mixture.polymer[0].phi&#39;</span>, <span class="stringliteral">&#39;thermo.fHelmholtz&#39;</span>])</div>
</div><!-- fragment --><p> uses the summary method to create a variable 'table' that is a list of lists in which each element of the outer list is a list of the values at a single state of the variables whose names are given as elements of the function argument. Specifically, here, each element of list table is a list of two elements containing values for the volume fraction of polymer and the Helmholtz free energy fHelmholtz. The quantities table[4][0] and table[4][1] would then be the volume fraction phi and free energy fHelmholtz associated with state 4, respectively.</p>
<p><em>Formatted string</em>: The expression </p><div class="fragment"><div class="line">report = s.summaryString([<span class="stringliteral">&#39;param.Mixture.polymer[0].phi&#39;</span>, <span class="stringliteral">&#39;thermo.fHelmholtz&#39;</span>])</div>
</div><!-- fragment --><p> uses method summaryString to create a string variable named report that contains the same data in a multi-line string formatted in a manner suitable for printing. This string can then be printed to the screen using </p><div class="fragment"><div class="line">print(report)</div>
</div><!-- fragment --><p> or written to a file.</p>
<p><br  />
 <a class="el" href="analysis_python_state_page.html">State Files</a> (Prev) &#160; &#160; &#160; &#160; <a class="el" href="analysis_python_page.html">Python Tools</a> (Up) &#160; &#160; &#160; &#160; <a class="el" href="analysis_python_command_page.html">Command Files</a> (Prev) &#160; &#160; &#160; &#160; </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on <span class="timestamp"></span> for PSCF by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.14.0
</small></address>
</div><!-- doc-content -->
</body>
</html>
