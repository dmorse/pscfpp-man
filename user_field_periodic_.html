<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.5"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>PSCF: page Field File Formats : pscf_pc and pscf_pg</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  extensions: ["tex2jax.js"],
  jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="https://cdn.jsdelivr.net/npm/mathjax@2/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="customdoxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">PSCF<span id="projectnumber">&#160;v1.0rc</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.5 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div><div class="header">
  <div class="headertitle"><div class="title">page Field File Formats : pscf_pc and pscf_pg </div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p ><a class="el" href="user_field_page.html">Fields and Field Files</a> (Prev/Up) &#160; &#160; &#160; &#160; <a class="el" href="user_command_page.html">Command Files</a> (Next) <br  />
</p>
<p >The pscf_pcN and pscf_pgN programs are both designed to treat periodic structures, and use the same set of several field file formats. <br  />
</p>
<h1><a class="anchor" id="user_field_periodic_formats_sec"></a>
File Formats</h1>
<p >The pscf_pc and pscf_pg programs can all read and write fields using following three field file formats:</p>
<ul>
<li>A <a class="el" href="user_field_basis_page.html">basis</a> file format contains the components for a representation of each field as a linear superposition of symmetry-adapated basis functions, in which each basis function is invariant under all of the elements of a specified space group.</li>
<li>A <a class="el" href="user_field_rgrid_page.html">r-grid</a> file format contains the values of fields defined on the nodes of a regular grid.</li>
<li>A <a class="el" href="user_field_kgrid_page.html">k-grid</a> file format that contains the discrete Fourier transform of fields defined on a regular grid.</li>
</ul>
<p >Each of these file formats for periodic structures contains a header section that includes a specification of the crystal system and unit and unit cell parameters for the crystallographic unit cell. The header for the r-grid and k-grid format also contains a list of the mesh dimensions, i.e., the number of grid points in each direction of the mesh that was used by the program that wrote the file.</p>
<p >The dimensions of the mesh used by the program that reads a file in r-grid or k-grid format (as given in the parameter file) must match the dimensions of the mesh used by the program that wrote the file (as declared in the field file header for these formats).</p>
<p >The basis format is instead designed to allow users to change mesh dimensions: A instance of a program for which a particular list of mesh dimensions is declared in the parameter file can usually read and correctly intepret a field file that was created using a basis designed for a different mesh. (There are still occasional situations in which this translation fails, which we in the process of fixing). The basis format can thus usually be used to change resolution by, for example, using a converged solution obtained with a coarse mesh as an initial guess for the solution on a refined mesh.</p>
<p >The current C++ version of PSCF can also read the basis and r-grid file formats used by the older Fortran PSCF program. The k-grid format used by the current version is not backwards compatible with the analogous k-grid format used by the Fortran program.</p>
<p >The names of some command-file commands that instruct pscf_pc and pscf_pg programs to read or write field files contain the strings "BASIS", "RGRID", or "KGRID" to indicate the use of a particular field file format.</p>
<h1><a class="anchor" id="user_field_periodic_header_sec"></a>
Header Section</h1>
<p >Each of the three field file formats described above contains a header section followed by a data section. The header section has an almost identical form in all three file formats, and contains information about the dimensionality of space, the crystallographic unit cell, the space group, and the mesh or basis used to represent the fields.</p>
<h2><a class="anchor" id="user_field_periodic_header_example_sub"></a>
Example</h2>
<p >As an example, here is header section of a r-grid field file for a double gyroid phase (space group \( Ia \overline{3}d \) that was computed using a mesh with 32 grid points along each of three orthogonal directions: </p><div class="fragment"><div class="line"> format  1  0</div>
<div class="line">dim</div>
<div class="line">                   3</div>
<div class="line">crystal_system</div>
<div class="line">               cubic</div>
<div class="line">N_cell_param</div>
<div class="line">                   1</div>
<div class="line">cell_param</div>
<div class="line">    3.6735414146E+00</div>
<div class="line">group_name</div>
<div class="line">           I_ a_-3_d</div>
<div class="line">N_monomer</div>
<div class="line">                   2</div>
<div class="line">N_grid</div>
<div class="line">                  32    32    32</div>
</div><!-- fragment --><p >The first line of the header specifies a file format version number (file format v1.0). The rest of the header contains parameter values, each of which is given as a parameter label on one line followed by a value on the next line. The header may contain values for the following parameters, in the following order:</p>
<table class="doxtable">
<tr>
<td>Parameter  </td><td>Description   </td></tr>
<tr>
<td>dim  </td><td>dimensionality of the crystal periodicity (int, with value 1, 2, or 3)   </td></tr>
<tr>
<td>crystal_system  </td><td>identifier for the crystal system (string)   </td></tr>
<tr>
<td>N_cell_param  </td><td>number of unit cell parameters (int, in range 1-6)   </td></tr>
<tr>
<td>cell_param  </td><td>list of cell parameter values (list of N_cell_param real values)   </td></tr>
<tr>
<td>group_name  </td><td>identifier for the crystallographic space group (string)   </td></tr>
<tr>
<td>N_monomer  </td><td>the number of distinct monomer types (int)   </td></tr>
<tr>
<td>N_grid  </td><td>list of the number of grid points in each direction (r-grid and k-grid files)  </td></tr>
<tr>
<td>N_basis  </td><td>number of basis functions in the symmetry-adapated Fourier basis   </td></tr>
</table>
<p ><b> dim </b>: The value of the parameter dim is number of dimension in which each field is periodic. For example, dim=1 for a lamellar phase, dim=2 for a hexagonal phase, and dim=3 for a 3D cubic or orthorhombic crystal. This quantity is also referred to by the symbol D throughout the source code and in some other parts of the documentation.</p>
<p ><b> crystal_system </b>: Allowed values of the crystal_system identifier are discussed <a class="el" href="user_unitcell_page.html">here</a>.</p>
<p ><b> N_cell_param </b>: The parameter N_cell_param specifies the number of real parameters that are required to describe the unit cell for the specified crystal_system. This number can range from 1 for 1D lamellar, 2D square or hexagonal or 3D cubic crystals, up to 6 for a 3D triclinic lattice. The value of cell_param is a list of these N_cell_param real parameters, which give lengths of unit cell edges and (when required) angles between those edges. The number, order, and the meaning of those parameters depends upon the value of dim and the crystal_system identifier, as discussed <a class="el" href="user_unitcell_page.html">here</a>.</p>
<p ><b> group_name </b>: The parameter group_name is a string identifier for a crystallographic space group. Allowed values of this identifier string for each combination of values for dim and crystal_system are listed <a class="el" href="user_groups_page.html">here</a>.</p>
<p ><b> N_grid </b>: The N_grid parameter, which gives the number of grid points in each direction, appears in r-grid and k-grid field formats but not in the basis format.</p>
<p ><b> N_basis </b>: The N_basis parameter only appears in the basis file format.</p>
<h2>Contents: </h2>
<p >The three field file formats discussed above are described in more detail in the sub-pages linked below:</p>
<ol>
<li>
<a class="el" href="user_field_basis_page.html">Field File - Symmetrized Basis (Periodic)</a>  </li>
<li>
<a class="el" href="user_field_rgrid_page.html">Field File - R-Grid (Periodic)</a>  </li>
<li>
<a class="el" href="user_field_kgrid_page.html">Field File - K-Grid (Periodic)</a>  </li>
</ol>
<p ><br  />
 <a class="el" href="user_field_page.html">Fields and Field Files</a> (Up/Prev) &#160; &#160; &#160; &#160; <a class="el" href="user_page.html">User Guide</a> (Up) &#160; &#160; &#160; &#160; <a class="el" href="user_command_page.html">Command Files</a> (Next) </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Mon Feb 27 2023 14:01:31 for PSCF by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.5
</small></address>
</body>
</html>
