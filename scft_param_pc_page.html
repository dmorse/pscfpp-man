<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.14.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>PSCF: Parameter File - pscf_pc</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  extensions: ["tex2jax.js", "TeX/AMSmath.js", "TeX/AMSsymbols.js"],
  jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="https://cdn.jsdelivr.net/npm/mathjax@2/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="customdoxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">PSCF<span id="projectnumber">&#160;v1.3</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.14.0 -->
<script type="text/javascript">
$(function() { codefold.init(); });
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',false,false,'search.php','Search',false);
});
</script>
<div id="main-nav"></div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a href="index.html">PSCF - Polymer Self-Consistent Field</a></li><li class="navelem"><a href="scft_page.html">Self-Consistent Field Theory</a></li><li class="navelem"><a href="scft_param_page.html">Parameter Files</a></li>  </ul>
</div>
</div><!-- top -->
<div id="doc-content">
<div><div class="header">
  <div class="headertitle"><div class="title">Parameter File - pscf_pc </div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="el" href="scft_param_1d_page.html">Parameter File - pscf_1d</a> (Prev) &#160; &#160; &#160; &#160; <a class="el" href="scft_param_pg_page.html">Parameter File - pscf_pg</a> (Next) <br  />
</p>
<p>The pscf_pc and pscf_pg programs for periodic systems use nearly identical parameter file formats, and so are discussed together here. The description given here only covers required and optional elements relevant to SCFT calculations. A complete description of the parameter file format for either of these programs, including optional elements that not relevant to SCFT, is given <a class="el" href="rpc_System_page.html">here</a>.</p>
<h1 class="doxsection"><a class="anchor" id="scft_param_pc_example_sec"></a>
Example</h1>
<p>The example show below is a typical parameter file for using pscf_pc to perform a SCFT calculation for a 3D perodic structure of known space group symmetry of a diblock copolymer melt. This example would also be accepted by the pscf_pg program, which would perform the same calculation while offloading some parts of the calculation to a GPU.</p>
<div class="fragment"><div class="line">System{</div>
<div class="line">  polymerModel thread</div>
<div class="line">  Mixture{</div>
<div class="line">    nMonomer  2</div>
<div class="line">    monomers[</div>
<div class="line">              1.0</div>
<div class="line">              1.0</div>
<div class="line">    ]</div>
<div class="line">    nPolymer  1</div>
<div class="line">    Polymer{</div>
<div class="line">      type    linear</div>
<div class="line">      nBlock  2</div>
<div class="line">      blocks[</div>
<div class="line">              0  0.15</div>
<div class="line">              1  0.85</div>
<div class="line">      ]</div>
<div class="line">      phi     1.0</div>
<div class="line">    }</div>
<div class="line">    ds   0.01</div>
<div class="line">  }</div>
<div class="line">  Interaction{</div>
<div class="line">    chi(</div>
<div class="line">          1   0   25.0</div>
<div class="line">    )</div>
<div class="line">  }</div>
<div class="line">  Domain{</div>
<div class="line">    mesh             32  32  32</div>
<div class="line">    lattice          cubic</div>
<div class="line">    groupName        I_m_-3_m</div>
<div class="line">  }</div>
<div class="line">  Iterator{</div>
<div class="line">    epsilon      1e-10</div>
<div class="line">    maxItr       100</div>
<div class="line">    maxHist      50</div>
<div class="line">    isFlexible   1</div>
<div class="line">  }</div>
<div class="line">}</div>
</div><!-- fragment --><p> This parameter file is designed to initialize a single SCFT calculation for a BCC phase of a single-component diblock copolymer melt. A parameter file for SCFT calculation of a mixture could contain more than one "Polymer" blocks and/or one or more "Solvent" blocks. A parameter file to initialize a parameter <a class="el" href="classPscf_1_1Rpc_1_1Sweep.html" title="Solve a sequence of SCFT problems along a line in parameter space.">Sweep</a> would contain an additional "Sweep" block.</p>
<h1 class="doxsection"><a class="anchor" id="scft_param_pc_system_sec"></a>
File format</h1>
<p>The format of a parameter file used by pscf_pc or pscf_pg to perform a an SCFT calculation is shown in skeleton from below: </p><div class="fragment"><div class="line">System{</div>
<div class="line">  polymerModel*   enumeration  (<span class="stringliteral">&quot;thread&quot;</span> or <span class="stringliteral">&quot;bead&quot;</span>, <span class="stringliteral">&quot;thread&quot;</span> by <span class="keywordflow">default</span>)</div>
<div class="line">  Mixture{ ...  }</div>
<div class="line">  Interaction{ ...  }</div>
<div class="line">  Domain{ ...  }</div>
<div class="line">  Environment#*{ ...  }</div>
<div class="line">  Iterator#*{ ... }</div>
<div class="line">  <a class="code hl_class" href="classPscf_1_1Rpc_1_1Sweep.html">Sweep</a>#*{ ... }</div>
<div class="line">}</div>
<div class="ttc" id="aclassPscf_1_1Rpc_1_1Sweep_html"><div class="ttname"><a href="classPscf_1_1Rpc_1_1Sweep.html">Pscf::Rpc::Sweep</a></div><div class="ttdoc">Solve a sequence of SCFT problems along a line in parameter space.</div><div class="ttdef"><b>Definition</b> <a href="rpc_2scft_2sweep_2Sweep_8h_source.html#l00027">rpc/scft/sweep/Sweep.h:28</a></div></div>
</div><!-- fragment --><p> The above skeleton includes only blocks that are relevant for SCFT calculations, and excludes optional elements that are only relevant to PS-FTS calculations. A complete description of the format for the main <a class="el" href="classPscf_1_1Rpc_1_1System.html" title="Main class, representing one complete system.">System</a> block is given <a class="el" href="rpc_System_page.html">here</a>.</p>
<p><b> polymerModel </b>: The polymerModel entry is an optional enumeration parameter with allowed values of "Thread" and "Bead" that specify global use of either the continuous thread or discrete bead model. If this parameter is omitted, the thread model is used by default.</p>
<p><b> <a class="el" href="classPscf_1_1Rpc_1_1Iterator.html" title="Base class for iterative solvers for SCF equations.">Iterator</a> and <a class="el" href="classPscf_1_1Rpc_1_1Sweep.html" title="Solve a sequence of SCFT problems along a line in parameter space.">Sweep</a> </b>: The <a class="el" href="classPscf_1_1Rpc_1_1Iterator.html" title="Base class for iterative solvers for SCF equations.">Iterator</a> and <a class="el" href="classPscf_1_1Rpc_1_1Sweep.html" title="Solve a sequence of SCFT problems along a line in parameter space.">Sweep</a> blocks are both optional and selectable, but an <a class="el" href="classPscf_1_1Rpc_1_1Iterator.html" title="Base class for iterative solvers for SCF equations.">Iterator</a> block must be present in order to perform an SCFT calculation. The <a class="el" href="classPscf_1_1Rpc_1_1Sweep.html" title="Solve a sequence of SCFT problems along a line in parameter space.">Sweep</a> block is only needed if one intends to peform an SCFT parameter sweep.</p>
<p>Formats of the <a class="el" href="classPscf_1_1Rpc_1_1Mixture.html" title="Solver and descriptor for a mixture of polymers and solvents.">Mixture</a> and <a class="el" href="classPscf_1_1Interaction.html" title="Flory-Huggins excess free energy model.">Interaction</a> blocks are the same for all PSCF programs, and have thus been discussed previously. Below, we discuss the contents of the <a class="el" href="classPscf_1_1Rpc_1_1Domain.html" title="Spatial domain for a periodic structure with real fields, on a CPU.">Domain</a>, <a class="el" href="classPscf_1_1Rpc_1_1Iterator.html" title="Base class for iterative solvers for SCF equations.">Iterator</a>, and <a class="el" href="classPscf_1_1Rpc_1_1Sweep.html" title="Solve a sequence of SCFT problems along a line in parameter space.">Sweep</a> blocks.</p>
<h1 class="doxsection"><a class="anchor" id="scft_param_pc_domain_sec"></a>
Domain block</h1>
<p>The <a class="el" href="classPscf_1_1Rpc_1_1Domain.html" title="Spatial domain for a periodic structure with real fields, on a CPU.">Domain</a> block contains information required to describe the unit cell of a periodic structure, the regular mesh that is used to discretize fields within each unit cell, and (optionally) an identifier for the space group of the desired solution. The parameter file format is discussed below, as well as in separate page <a class="el" href="rpc_Domain_page.html">here</a>.</p>
<p>An example of the format of this block is shown below: </p><div class="fragment"><div class="line">Domain{</div>
<div class="line">  mesh        32  32  32</div>
<div class="line">  lattice     cubic</div>
<div class="line">  groupName   I_m_-3_m</div>
<div class="line">}</div>
</div><!-- fragment --><p> The format for this block is </p><div class="fragment"><div class="line">Domain{</div>
<div class="line">   mesh        [int(D)] (D integer elements)</div>
<div class="line">   lattice     <span class="keywordtype">string</span></div>
<div class="line">   groupName*  <span class="keywordtype">string</span></div>
<div class="line">}</div>
</div><!-- fragment --><p> The groupName parameter is optional, but must be included to enable SCFT calculations that seek a solution of specified space group symmetry. The mesh and groupName parameter lines are discussed separately below.</p>
<p><b> mesh </b></p>
<p>The value of the variable "mesh" is a vector of integers on a single line that specify the number of grid points along each direction of the uniform spatial mesh used to discretize fields within each unit cell of the crystal. The number of integers is equal to the dimensionality D of the periodic unit cell. The format is </p><div class="fragment"><div class="line">mesh   N[0] .... N[D-1]</div>
</div><!-- fragment --><p> where N[i] is the number of grid points along axis number i, for i = 0 ,..., D-1.</p>
<p>The dimensions N[0], ... , N[D-1] of the spatial mesh are initialized to in the parameter file and are immutable thereafter. The only way to run simulations with different mesh sizes is to run pscf_pc and pscf_pg multiple times using different parameters files with different values for the mesh parameter.</p>
<p><b> lattice </b></p>
<p>The value of the parameter "lattice" is given by string that specifies the desired crystal system type. The set of allowed values for this string depends on the dimensionality of space. There are 7 allowed values of the lattice string for a 3D structure, corresponding to the 7 types of 3D crystal system, with names given by the strings "cubic", "tetragonal", "orthorhombic", "hexagonal", "rhombohedral", "monoclinic", and "triclinic". The allowed values for a 2D system include "square", "rectangular", "hexagonal" "rhombic" and "oblique". There is only one allowed lattice system for a 1D crystal, which is referred to as "lamellar". A more detailed discussion of each of the possible lattice systems is given in a separate page that documents conventions for <a class="el" href="scft_unitcell_page.html">unit cells</a>.</p>
<p>The lattice system parameter is initialized by the parameter file and is immutable thereafter.</p>
<p><b> groupName </b></p>
<p>The "spaceGroup" is an optional string parameter that, if present, identifies the crystallographic space group for the structure of interest. Each allowed value of the groupName string corresponds to a modified version of the name of a space group, as listed in the international tables of crystallography. In the above example, the groupName string I_m_-3_m is a modified form of the name \(Im\overline{3}m\) for the space group for a BCC lattice. PSCF uses a set of conventions for converting an international table symbol for a space group into a text string that involve insertion of underbars between logical elements and the use of - sign to represent an overbar, among other conventions. Allowed identifiers for crystallographic space groups are listed and discussed in more detail <a class="el" href="scft_groups_page.html">here</a>.</p>
<p>If groupName identifer is present, it is used construct a space group (i.e., a set of symmetry operations) and a symmetry-adapted Fourier basis. A symmetry-adapted Fourier basis is a set of functions of position that are all eigenfunctions of the Laplacian and are all invariant under all symmetry operations in the specified space group, which can be used as a basis for expanding functions with the specified symmetry. The algorithm used to construct such a basis requires knowledge of a set of initial values for the unit cell parameters. This symmetry-adapted basis is thus normally constructed immediately after the first time unit cell parameters are initialized, e.g., by reading the values given in a file that contains a description of a field.</p>
<p>If a groupName parameter is present in the parameter file, it is immutable after the parameter file is processed. Simulations of structures with different space groups must be performed separately, by running pscf_pc or pscf_pg multiple times with different parameter files.</p>
<p><b> Unit cell parameters (absence from parameter file) </b></p>
<p>To completely describe the Bravais lattice for a crystal with a known crystal system, one must assign values to a list of unit cell parameters that give the lengths of the edges of the unit cell and, for some lattice systems, angles between some of these edges. The number of unit cell parameters required to describe a unit cell is different for different lattice system. For example, a 3D cubic crystal can be described using a single parameter that gives the length of any edge of a simple cubic unit cell. Three parameters are required to describe an orthorhombic unit cell, to specify lengths of three orthogonal Bravais basis vectors, while 6 parameters are required for a triclinic unit cell, to specify 3 independent unit cell lengths and 3 angles. The unit cell parameters for each unit cell type are stored internally in an array that lists the required parameters in some pre-specified order. Conventions for the meaning of the required parameters and the order in which they are listed are described for each crystal system in a separate page of documentation about <a class="el" href="scft_unitcell_page.html">unit cells</a>.</p>
<p>Values for unit cell parameters are specified within the header section of files that describe periodic chemical potential fields (w-fields) or monomer concentration fields (c-cields). Values for these parameters are not, however, provided in the parameter file. Unit cell parameters are thus normally first assigned values during execution of the first command in the command file that causes the program to set the chemical potential fields for the program, by reading these fields from a file. Unit cell parameters can also be set explicitly using a command named SET_UNIT_CELL users may invoke to manually set or reset the unit cell parameter values at any point during processing of a command file.</p>
<p>If the <a class="el" href="classPscf_1_1Rpc_1_1Domain.html" title="Spatial domain for a periodic structure with real fields, on a CPU.">Domain</a> block of the parameter file contains a space group name, a symmetry-adapted Fourier basis for that space group is constructed immediately after the first time that unit cell parameters are assigned initial values by either mechanism, e.g., either the first time that the w-fields are set by reading these fields from a file or the SET_UNIT_CELL command is invoked).</p>
<p>Unit cell parameters for a crystal are changed many times during SCFT calculations for systems with flexible unit cells, in which the unit cell parameters are adjusted so as to minimize the free energy density. At the end of such a calculation, converged values for the optimal unit cell parameters are normally output within the header of a file that contains the converged w-fields.</p>
<h1 class="doxsection"><a class="anchor" id="scft_param_pc_environment_sec"></a>
Environment</h1>
<p>The <a class="el" href="classPscf_1_1Prdc_1_1Environment.html" title="Base class mask and external field generator for variable-cell SCFT.">Environment</a> block is an optional selectable block that can be used to define a mask and/or external potential fields in order to define an inhomogeneous externally imposed environment, as described in detail <a class="el" href="scft_environment_page.html">here</a>. An environment can be used to describe a confined environment such as that experienced by a <a class="el" href="scft_thin_films_page.html">thin film</a>. This block is not needed for standard SCFT calculations involving bulk periodic phases.</p>
<h1 class="doxsection"><a class="anchor" id="scft_param_pc_iterator_sec"></a>
Iterators</h1>
<p>The default <a class="el" href="classPscf_1_1Rpc_1_1Iterator.html" title="Base class for iterative solvers for SCF equations.">Iterator</a> for the pscf_pc and pscf_pg programs is based on an algorithm that uses an Anderson-Mixing (AM) iterator algorithm, and that imposes a specified space group symmetry. This default iterator can be invoked in pscf_pc using either the generic label "Iterator" or the specific label "AmIteratorBasis". This is currently the only iterator available in pscf_pc. A description of the parameter file format for this iterator is given <a class="el" href="rpc_AmIteratorBasis_page.html">here</a>.</p>
<p>The <a class="el" href="classPscf_1_1Rpc_1_1AmIteratorBasis.html" title="Rpc implementation of the Anderson Mixing iterator with symmetry.">AmIteratorBasis</a> is designed to search for a solution with a specified space group symmetry, and can only be used with a parameter file that contains a valid groupName parameter. The pscf_pg program, however, also provides an Anderson-Mixing algorithm named AmIteratorGrid that does not impose any space-group symmetry, and that can be used with a parameter file that does not contain a groupName string.</p>
<p>The <a class="el" href="classPscf_1_1Rpc_1_1Iterator.html" title="Base class for iterative solvers for SCF equations.">Iterator</a> block of the parameter file is formally optional (i.e., the program will finish reading the parameter file if it is omitted), but is required to enable SCFT calculations. An <a class="el" href="classPscf_1_1Rpc_1_1Iterator.html" title="Base class for iterative solvers for SCF equations.">Iterator</a> block is not needed to peform a field theoretic simulation.</p>
<h1 class="doxsection"><a class="anchor" id="scft_param_pc_sweep_sec"></a>
Sweep</h1>
<p>The <a class="el" href="classPscf_1_1Rpc_1_1Sweep.html" title="Solve a sequence of SCFT problems along a line in parameter space.">Sweep</a> block is another a block that (like the <a class="el" href="classPscf_1_1Rpc_1_1Iterator.html" title="Base class for iterative solvers for SCF equations.">Iterator</a> block for pscf_pc) has been programmed as a selectable block, but for which there is currently only one available algorithm. The only sweep algorithm that is currently available for use with either pscf_pc or pscf_pg is a general linear sweep algorithm, which is also the default algorithm. Such a linear sweep can thus be enabled by including a block that starts either with the generic label "Sweep" (as done in any examples shown here that include a sweep block) or the specific label "LinearSweep". The format of the associated parameter file block is described <a class="el" href="scft_param_sweep_page.html#scft_param_sweep_linear_sec">here</a>.</p>
<h1 class="doxsection"><a class="anchor" id="scft_param_pc_seealso_sec"></a>
See Also:</h1>
<ul>
<li>
<a class="el" href="rpc_System_page.html">System</a>  </li>
<li>
<a class="el" href="user_param_mixture_page.html">Mixture</a>  </li>
<li>
<a class="el" href="user_param_example_page.html#user_param_example_interaction">Interaction</a>  </li>
<li>
<a class="el" href="rpc_Domain_page.html">Domain</a>  </li>
<li>
<a class="el" href="scft_environment_page.html">Environment</a>  </li>
<li>
<a class="el" href="rpc_AmIteratorBasis_page.html">AmIteratorBasis</a>  </li>
<li>
<a class="el" href="scft_param_sweep_page.html">Sweep</a>  <ul>
<li>
<a class="el" href="scft_param_sweep_page.html#scft_param_sweep_linear_sec">LinearSweep</a>  </li>
</ul>
</li>
</ul>
<p><br  />
 <a class="el" href="scft_param_1d_page.html">Parameter File - pscf_1d</a> (Prev) &#160; &#160; &#160; &#160; <a class="el" href="scft_param_page.html">Parameter Files</a> (Up) &#160; &#160; &#160; &#160; <a class="el" href="scft_param_pg_page.html">Parameter File - pscf_pg</a> (Next) </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on <span class="timestamp"></span> for PSCF by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.14.0
</small></address>
</div><!-- doc-content -->
</body>
</html>
